{"version":3,"sources":["../../../api/common/log.js"],"names":["through","require","winston","Papertrail","logger","Logger","transports","silent","process","env","NODE_ENV","host","port","asStream","level","data","log","String","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,UAAUD,QAAQ,SAAR,CAAd;AACAA,QAAQ,oBAAR,EAA8BE,UAA9B;;AAEA,IAAIC,SAAS,IAAIF,QAAQG,MAAZ,CAAmB;AAC9BC,cAAY,CACV,IAAKJ,QAAQI,UAAR,CAAmBH,UAAxB,CAAoC;AAClCI,YAAQC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,MADC;AAElCC,UAAM,yBAF4B;AAGlCC,UAAM;AAH4B,GAApC,CADU;AADkB,CAAnB,CAAb;;AAWAR,OAAOS,QAAP,GAAkB,SAASA,QAAT,CAAkBC,KAAlB,EAAwB;AACxC,SAAOd,QAAQ,UAASe,IAAT,EAAc;AAC3BX,WAAOY,GAAP,CAAWF,KAAX,EAAkBG,OAAOF,IAAP,CAAlB;AACD,GAFM,CAAP;AAGD,CAJD;;AAOAG,OAAOC,OAAP,GAAiBf,MAAjB","file":"log.js","sourcesContent":["'use strict';\n\nvar through = require('through');\nvar winston = require('winston');\nrequire('winston-papertrail').Papertrail;\n\nvar logger = new winston.Logger({\n  transports: [\n    new (winston.transports.Papertrail)({\n      silent: process.env.NODE_ENV === 'test',\n      host: 'logs4.papertrailapp.com',\n      port: 50493\n    }),\n\n  ]\n});\n\nlogger.asStream = function asStream(level){\n  return through(function(data){\n    logger.log(level, String(data));\n  });\n};\n\n\nmodule.exports = logger;\n"]}