{"version":3,"sources":["../../config/import.js"],"names":["redis","csv","fs","stream","createReadStream","csvStream","on","data","setJson","console","log","getJson","pipe"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,qBAAvB;AACA,OAAOC,GAAP,MAAgB,UAAhB;AACA,OAAOC,EAAP,MAAe,IAAf;;AAGA,MAAMC,SAASD,GAAGE,gBAAH,CAAoB,uBAApB,CAAf;;AAEA,MAAMC,YAAYJ,MACfK,EADe,CACZ,MADY,EACJ,UAASC,IAAT,EAAc;AACtBP,QAAMQ,OAAN,CAAcD,KAAK,CAAL,CAAd,EAAuBA,IAAvB;AACH,CAHe,EAIfD,EAJe,CAIZ,KAJY,EAIL,kBAAgB;AACzBG,UAAQC,GAAR,CAAY,aAAZ;AACAD,UAAQC,GAAR,EAAY,MAAMV,MAAMW,OAAN,CAAc,OAAd,CAAlB;AACD,CAPe,CAAlB;;AASAR,OAAOS,IAAP,CAAYP,SAAZ","file":"import.js","sourcesContent":["import * as redis from '../api/common/redis';\nimport csv from 'fast-csv';\nimport fs from 'fs';\n\n\nconst stream = fs.createReadStream(\"zip_code_database.csv\");\n\nconst csvStream = csv()\n  .on(\"data\", function(data){\n      redis.setJson(data[0], data);\n  })\n  .on(\"end\", async function(){\n    console.log(\"import done\");\n    console.log(await redis.getJson('00544'));\n  });\n\nstream.pipe(csvStream);\n"]}